Index: app/src/main/java/com/example/water_app/main/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.water_app.main\r\n\r\nimport android.Manifest\r\nimport android.content.Context\r\nimport android.content.pm.PackageManager\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.util.Base64\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.app.ActivityCompat\r\nimport com.example.water_app.R\r\nimport com.example.water_app.databinding.ActivityMainBinding\r\nimport com.example.water_app.etc.ToastLoginFragment\r\nimport java.security.MessageDigest\r\nimport java.security.NoSuchAlgorithmException\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    // 뷰바인딩\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    // 위치 권한\r\n    private val REQUEST_PERMISSION_LOCATION = 10\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        // 위치 권한 확인\r\n        checkPermissionForLocation(this)\r\n\r\n        // 뷰바인딩\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val cntr_sn = intent.getStringExtra(\"cntr_sn\")\r\n\r\n        binding.navMain.run { setOnNavigationItemSelectedListener {\r\n            when(it.itemId) {\r\n                // 프래그먼트 이동\r\n                R.id.first -> {\r\n                    val fragment = HomeFragment()\r\n                    supportFragmentManager.beginTransaction().replace(R.id.flContainer, fragment).commit()\r\n                }\r\n                R.id.second -> {\r\n                    val fragment1 = DonationFragment()\r\n                    val fragment2 = ToastLoginFragment()\r\n\r\n                    if (cntr_sn == null){\r\n                        supportFragmentManager.beginTransaction().replace(R.id.flContainer, fragment2).commit()\r\n                    }else{\r\n                        supportFragmentManager.beginTransaction().replace(R.id.flContainer, fragment1).commit()\r\n                    }\r\n                }\r\n                R.id.third -> {\r\n                    val fragment = MapFragment()\r\n                    supportFragmentManager.beginTransaction().replace(R.id.flContainer, fragment).commit()\r\n                }\r\n                R.id.fourth -> {\r\n                    val fragment = StoreFragment()\r\n                    supportFragmentManager.beginTransaction().replace(R.id.flContainer, fragment).commit()\r\n                }\r\n                R.id.fifth -> {\r\n                    val fragment = MyPageFragment()\r\n                    supportFragmentManager.beginTransaction().replace(R.id.flContainer, fragment).commit()\r\n                }\r\n            }\r\n            true\r\n        }\r\n            selectedItemId = R.id.first\r\n        }\r\n\r\n        // HashKey\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {\r\n            val packageInfo =\r\n                packageManager.getPackageInfo(packageName, PackageManager.GET_SIGNING_CERTIFICATES)\r\n            for (signature in packageInfo.signingInfo.apkContentsSigners) {\r\n                try {\r\n                    val md = MessageDigest.getInstance(\"SHA\")\r\n                    md.update(signature.toByteArray())\r\n                    Log.d(\"getKeyHash\", \"key hash: ${Base64.encodeToString(md.digest(), Base64.NO_WRAP)}\")\r\n                } catch (e: NoSuchAlgorithmException) {\r\n                    Log.w(\"getKeyHash\", \"Unable to get MessageDigest. signature=$signature\", e)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 위치 권한 확인\r\n    private fun checkPermissionForLocation(context: Context): Boolean {\r\n        // Android 6.0 Marshmallow 이상에서는 위치 권한에 추가 런타임 권한이 필요\r\n        return if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n            if (context.checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                true\r\n            } else {\r\n                // 권한이 없으므로 권한 요청 알림 보내기\r\n                ActivityCompat.requestPermissions(\r\n                    this,\r\n                    arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\r\n                    REQUEST_PERMISSION_LOCATION\r\n                )\r\n                false\r\n            }\r\n        } else {\r\n            true\r\n        }\r\n    }\r\n\r\n    // 위치 권한 요청 후 결과 처리\r\n    override fun onRequestPermissionsResult(\r\n        requestCode: Int,\r\n        permissions: Array<out String>,\r\n        grantResults: IntArray\r\n    ) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n        if (requestCode == REQUEST_PERMISSION_LOCATION) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                //\r\n            } else {\r\n                Log.d(\"ttt\", \"onRequestPermissionsResult() _ 권한 허용 거부\")\r\n                Toast.makeText(this, \"권한이 없어 해당 기능을 실행할 수 없습니다.\", Toast.LENGTH_SHORT)\r\n                    .show()\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/water_app/main/MainActivity.kt b/app/src/main/java/com/example/water_app/main/MainActivity.kt
--- a/app/src/main/java/com/example/water_app/main/MainActivity.kt	
+++ b/app/src/main/java/com/example/water_app/main/MainActivity.kt	
@@ -13,6 +13,7 @@
 import com.example.water_app.R
 import com.example.water_app.databinding.ActivityMainBinding
 import com.example.water_app.etc.ToastLoginFragment
+import com.example.water_app.user.MySharedPreferences
 import java.security.MessageDigest
 import java.security.NoSuchAlgorithmException
 
@@ -36,6 +37,8 @@
         setContentView(binding.root)
 
         val cntr_sn = intent.getStringExtra("cntr_sn")
+        val a = MySharedPreferences.getUserSn(this)
+        Log.d("----------->","$a")
 
         binding.navMain.run { setOnNavigationItemSelectedListener {
             when(it.itemId) {
